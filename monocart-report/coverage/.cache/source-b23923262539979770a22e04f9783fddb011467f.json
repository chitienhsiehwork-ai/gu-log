{"id":"b23923262539979770a22e04f9783fddb011467f","url":"http://localhost:4321/src/components/CodeCopyButton.astro?astro&type=script&index=0&lang.ts","source":"function addCopyButtons() {\n  const codeBlocks = document.querySelectorAll(\"pre\");\n  codeBlocks.forEach((pre) => {\n    if (pre.querySelector(\".copy-button\")) return;\n    const wrapper = document.createElement(\"div\");\n    wrapper.className = \"code-block-wrapper\";\n    pre.parentNode?.insertBefore(wrapper, pre);\n    wrapper.appendChild(pre);\n    const button = document.createElement(\"button\");\n    button.className = \"copy-button\";\n    button.setAttribute(\"aria-label\", \"Copy code\");\n    button.innerHTML = `\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n          <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect>\n          <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path>\n        </svg>\n        <span class=\"copy-text\">Copy</span>\n      `;\n    button.addEventListener(\"click\", async () => {\n      const code = pre.querySelector(\"code\")?.textContent || pre.textContent || \"\";\n      try {\n        await navigator.clipboard.writeText(code);\n        button.classList.add(\"copied\");\n        const textSpan = button.querySelector(\".copy-text\");\n        if (textSpan) textSpan.textContent = \"Copied!\";\n        setTimeout(() => {\n          button.classList.remove(\"copied\");\n          if (textSpan) textSpan.textContent = \"Copy\";\n        }, 2e3);\n      } catch (err) {\n        console.error(\"Failed to copy:\", err);\n      }\n    });\n    wrapper.appendChild(button);\n  });\n}\naddCopyButtons();\ndocument.addEventListener(\"astro:page-load\", addCopyButtons);\n","sourceMap":{"version":3,"sources":["CodeCopyButton.astro"],"sourcesContent":["---\n// Client-side script to add copy buttons to all code blocks\n---\n\n<script>\n  function addCopyButtons() {\n    const codeBlocks = document.querySelectorAll('pre');\n\n    codeBlocks.forEach((pre) => {\n      // Skip if button already exists\n      if (pre.querySelector('.copy-button')) return;\n\n      // Create wrapper\n      const wrapper = document.createElement('div');\n      wrapper.className = 'code-block-wrapper';\n\n      // Wrap the pre element\n      pre.parentNode?.insertBefore(wrapper, pre);\n      wrapper.appendChild(pre);\n\n      // Create copy button\n      const button = document.createElement('button');\n      button.className = 'copy-button';\n      button.setAttribute('aria-label', 'Copy code');\n      button.innerHTML = `\n        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\">\n          <rect x=\"9\" y=\"9\" width=\"13\" height=\"13\" rx=\"2\" ry=\"2\"></rect>\n          <path d=\"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1\"></path>\n        </svg>\n        <span class=\"copy-text\">Copy</span>\n      `;\n\n      // Add click handler\n      button.addEventListener('click', async () => {\n        const code = pre.querySelector('code')?.textContent || pre.textContent || '';\n\n        try {\n          await navigator.clipboard.writeText(code);\n          button.classList.add('copied');\n          const textSpan = button.querySelector('.copy-text');\n          if (textSpan) textSpan.textContent = 'Copied!';\n\n          setTimeout(() => {\n            button.classList.remove('copied');\n            if (textSpan) textSpan.textContent = 'Copy';\n          }, 2000);\n        } catch (err) {\n          console.error('Failed to copy:', err);\n        }\n      });\n\n      wrapper.appendChild(button);\n    });\n  }\n\n  // Run on page load\n  addCopyButtons();\n\n  // Re-run on navigation (for SPAs)\n  document.addEventListener('astro:page-load', addCopyButtons);\n</script>\n\n<style is:global>\n  .code-block-wrapper {\n    position: relative;\n    margin: var(--spacing-sm) 0;\n  }\n\n  .copy-button {\n    position: absolute;\n    top: 0.5rem;\n    right: 0.5rem;\n    display: flex;\n    align-items: center;\n    gap: 0.25rem;\n    padding: 0.25rem 0.5rem;\n    background: var(--color-surface);\n    border: 1px solid var(--color-border);\n    border-radius: 4px;\n    color: var(--color-text-muted);\n    font-size: 0.75rem;\n    font-family: var(--font-sans);\n    cursor: pointer;\n    transition: all 0.2s ease;\n    opacity: 0;\n  }\n\n  .code-block-wrapper:hover .copy-button {\n    opacity: 1;\n  }\n\n  .copy-button:hover {\n    background: var(--color-accent);\n    color: var(--color-bg);\n    border-color: var(--color-accent);\n  }\n\n  .copy-button.copied {\n    background: var(--color-accent);\n    color: var(--color-bg);\n    border-color: var(--color-accent);\n  }\n\n  .copy-button svg {\n    width: 14px;\n    height: 14px;\n  }\n\n  /* Always show on mobile/touch devices */\n  @media (hover: none) {\n    .copy-button {\n      opacity: 0.7;\n    }\n  }\n</style>"],"mappings":"AAKE,SAAS,iBAAiB;AACxB,QAAM,aAAa,SAAS,iBAAiB,KAAK;AAElD,aAAW,QAAQ,CAAC,QAAQ;AAE1B,QAAI,IAAI,cAAc,cAAc,EAAG;AAGvC,UAAM,UAAU,SAAS,cAAc,KAAK;AAC5C,YAAQ,YAAY;AAGpB,QAAI,YAAY,aAAa,SAAS,GAAG;AACzC,YAAQ,YAAY,GAAG;AAGvB,UAAM,SAAS,SAAS,cAAc,QAAQ;AAC9C,WAAO,YAAY;AACnB,WAAO,aAAa,cAAc,WAAW;AAC7C,WAAO,YAAY;;;;;;;AASnB,WAAO,iBAAiB,SAAS,YAAY;AAC3C,YAAM,OAAO,IAAI,cAAc,MAAM,GAAG,eAAe,IAAI,eAAe;AAE1E,UAAI;AACF,cAAM,UAAU,UAAU,UAAU,IAAI;AACxC,eAAO,UAAU,IAAI,QAAQ;AAC7B,cAAM,WAAW,OAAO,cAAc,YAAY;AAClD,YAAI,SAAU,UAAS,cAAc;AAErC,mBAAW,MAAM;AACf,iBAAO,UAAU,OAAO,QAAQ;AAChC,cAAI,SAAU,UAAS,cAAc;QACvC,GAAG,GAAI;MACT,SAAS,KAAK;AACZ,gBAAQ,MAAM,mBAAmB,GAAG;MACtC;IACF,CAAC;AAED,YAAQ,YAAY,MAAM;EAC5B,CAAC;AACH;AAGA,eAAe;AAGf,SAAS,iBAAiB,mBAAmB,cAAc;","names":[]}}